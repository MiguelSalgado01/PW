<!DOCTYPE html>
<html lang="en">
    <head>
        <title>LogIn</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--JQUERY-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.2/jquery.min.js" integrity="sha512-tWHlutFnuG0C6nQRlpvrEhE4QpkG1nn2MOUMWmUeRePl4e3Aki0VB6W1v3oLjFtd0hVOtRQ9PHpSfN6u6/QXkQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <!--BootStrap 5.2-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
        <link rel="stylesheet" href="{{url_for('static', filename='css/comum.css')}}"> 
    </head>
    <body class="bg-secondary">
        <header class="py-4">
            <h1 class="text-center text-white fw-bold">LogIn</h1>
        </header>
        <div style="width: 90%; padding-top: 15%; padding-bottom: 5%; margin-top: 15%;" class="container bg-light rounded-5 shadow-lg">
            <div class="position-absolute start-50 translate-middle" style=" z-index: 1; margin-top: -15%;">
                <div class="d-flex justify-content-center">
                    <img
                            src="{{url_for('static', filename='Logo.png')}}"
                            alt=""
                            class="border border-2 rounded-circle"
                            width="160px"
                            height="160px"
                    />
                </div>
            </div>
            <form class=" w-100 col-6" method="POST" action="" novalidate>
                {{formFront.hidden_tag()}}
                    <fieldset class="my-4">
                        <div class="from-group">
                            {{formFront.student_number.label(class="form-control-label")}}
                            <div class="input-group my-1" id="groupNumb">
                                <span class="input-group-text bg-secondary" id="basic-addon1">                    
                                    <i class="fa fa-user text-white"></i>
                                </span>
                                {% if formFront.student_number.errors %}
                                    {{formFront.student_number(class="form-control is-invalid", id="studentNumber", placeholder="ex: a35465575")}}
                                    {% else %}
                                    {{formFront.student_number(class="form-control", id="studentNumber",  placeholder="ex: a35465575")}}
                                {% endif %}
                            </div>
                            {% if formFront.student_number.errors %}
                            {% for error in formFront.student_number.errors %}
                                <span>{{error}}</span>
                            {% endfor %}
                            {% else %}
                            {% endif %}
                        </div>
                    </fieldset>

                    <fieldset class="my-4">
                        <div class="from-group">
                            {{formFront.password.label(class="form-control-label")}}
                            <div class="input-group my-1" id="groupPass">
                                <span class="input-group-text bg-secondary" id="basic-addon1">                    
                                    <i class="fa fa-user text-white"></i>
                                </span>
                                {% if formFront.password.errors %}
                                    {{formFront.password(class="form-control is-invalid", type="password", id="userPassword", placeholder="ex: Bobin@D3Te5L@")}}
                                    {% else %}
                                    {{formFront.password(class="form-control", type="password", id="userPassword",  placeholder="ex: Bobin@D3Te5L@")}}
                                {% endif %}
                            </div>
                            {% if formFront.password.errors %}
                            {% for error in formFront.password.errors %}
                                <span>{{error}}</span>
                            {% endfor %}
                            {% else %}
                            {% endif %}
                        </div>
                        <a href="http://127.0.0.1:5500/FrontEnd/ForgotPass/ForgotPass.html">
                            <h6><dt> Esqueces-te a Password ?</dt></h6>
                        </a>
                    </fieldset>
                    <div class="container">
                        <div class="container">
                            <div class="row"> 
                                <div class="col-1"></div>
                                {{formFront.login(class="btn btn-primary col-10 my-2", id="LogBtn")}}
                                <div class="col-1"></div>
                                <div class="col-1"></div>
                                {{formFront.toRegist(class="btn btn-primary col-10 my-2", id="RegistBtn")}}
                            </div>
                        </div>
                    </div>
            </form>
        </div>
    </body>
    <!-- <script> -->
    <!-- //     var validationSpaces = document.getElementsByClassName("needs-validation"); 
    //     var userNameNumb = document.getElementById("username");
    //     var userPass = document.getElementById("userPassword");
    //     var rePassVal = 0, user = new Array();

    //     function clicarBotao(){
    //         var numFaltas = 0, idUser = 1, users =  [];

    //         numFaltas = validateSpaces(numFaltas);

    //         if(users !== null)
    //             idUser++;

    //         if(numFaltas === 0){
    //             clearPage();
    //         }
    //     }

    //     function validateNameAndNumb(numFaltas) {
    //             var thisInvalid = 0;
    //             var thisValid = 0;
    //             var identification; 
    //             var group = document.getElementById("groupNameNumb")
    //             users = JSON.parse(localStorage.getItem('users'));

    //             console.log(userNameNumb.validity.valid)

    //             if(!userNameNumb.validity.valid)
    //                 group.childNodes[5].innerHTML = "Por Favor insira o Nome de Utilizador ou Numero de Aluno"

    //             users.forEach(element => {
    //                 console.log(userNameNumb.value +" "+ element.Name)
    //                 if(userNameNumb.value !== element.Name && userNameNumb.value !== element.studentNumb){
    //                     group.childNodes[5].innerHTML = "Nome de Utilizador ou Numero de Aluno nÃ£o existe"
    //                     invalidate(userNameNumb);
    //                     invalidate(userPass);
    //                     numFaltas++;
    //                 }
    //                 else{
    //                     identification = element.idUser;
    //                     thisValid++;
    //                 }
    //             });

    //             if(thisValid !== 0){
    //                 group.childNodes[5].innerHTML = ""
    //                 validate(userNameNumb);
    //                 numFaltas = validatePass(numFaltas, identification);
    //                 thisInvalid = 0;
    //             }
                

    //             return numFaltas + thisInvalid;
    //         }

    //         function validatePass(numFaltas) {
    //             var thisInvalid = 0, thisValid = 0;
    //             var group = document.getElementById("groupPass")
    //             users = JSON.parse(localStorage.getItem('users'));

    //             console.log(userPass.validity.valid)

    //             if(!userPass.validity.valid)
    //                 group.childNodes[5].innerHTML = "Por Favor insira Password"

                
    //                 console.log(users[0].password)

    //             users.forEach(element => {
    //                 console.log(userPass.value + " " + element.Name)
    //                 if(userPass.value !== element.password){
    //                     group.childNodes[5].innerHTML = "Password Incorreta"
    //                     invalidate(userPass);
    //                     numFaltas++;
    //                 }
    //                 else{
    //                     thisValid++;
    //                 }
    //             });

    //             if(thisValid !== 0){
    //                 group.childNodes[5].innerHTML = ""
    //                 validate(userPass)
    //                 thisInvalid = 0;
    //             }

    //             return numFaltas + thisInvalid;
    //         }
        

    //     function invalidate(classNam) {
    //         classNam.classList.add("is-invalid");
    //         classNam.classList.remove("is-valid");
    //         classNam.classList.remove("was-validated");
    //     }

    //     function validate(classNam) {
    //         classNam.classList.add("is-valid");
    //         classNam.classList.remove("is-invalid")
    //         classNam.classList.add("was-validated");
    //     }


    //     function validateSpaces(numFaltas){
    //         // for (let index = 0; index < validationSpaces.length; index++) {
    //         //         const element = validationSpaces[index];
    //         //     }

    //         numFaltas = validateNameAndNumb(numFaltas)

    //         numFaltas += rePassVal; 

    //         console.log(numFaltas)
    //         return numFaltas;
    //     }

    //     function clearPage(){

    //     for (let index = 0; index < validationSpaces.length; index++) {
    //             const element = validationSpaces[index];
    //             element.childNodes[3].value = ''
    //             element.classList.remove("was-validated");
    //     }
    // }

    // function homePage(){
    //     window.location.href = "http://127.0.0.1:5500/FrontEnd/dashboard/Home.html";
    // }   
    // function RegisterPage(){
    //             window.location.href = "http://127.0.0.1:5500/FrontEnd/RegisterPage/Register.html";
    //         } -->

     <!-- </script> -->
</html>
